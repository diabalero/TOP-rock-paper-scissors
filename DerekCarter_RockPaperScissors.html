<script>
    //assign a value based on random number
    function computerPlay(){
        var myNum = getRandomInt(3);
        if (myNum == '0'){
            return "rock";
        }
        else if (myNum == 1){
            return "paper";           
        }   
        else {
            return "scissors";           
        }
    }
    //get random number between 0-2
    function getRandomInt(max){
        return Math.floor(Math.random() * Math.floor(max));
    }

    //capitalize only the first letter of the string
    function capitalizeFirst(text){
        text = text.toLowerCase();
        return text.charAt(0).toUpperCase() + text.slice(1);
    }
   
    
    function game(playerSelection){
        if (!playerSelection) return;
        computerSelection = computerPlay();
        const container = document.querySelector('#Results');
        const content = document.createElement('p');
        playRound(playerSelection, computerSelection);
        function playRound(playerSelection, computerSelection){
            var play = capitalizeFirst(playerSelection);
            var comp = capitalizeFirst(computerSelection);

            if (play == 'Rock'){
                if (comp == 'Paper'){
                    computerWins++;
                    content.textContent = comp + " beats " + play + ". Player-" + playerWins + ", Computer-" + computerWins;
                }
                else if (comp == 'Rock'){
                    content.textContent =  "Tie! Try Again. Player-" + playerWins + ", Computer-" + computerWins;
                }
                else if (comp == 'Scissors'){
                    playerWins++;
                    content.textContent = play + " beats " + comp + ". Player-" + playerWins + ", Computer-" + computerWins;
                }
            }
            else if (play == 'Paper'){
                if (comp == 'Scissors'){
                    computerWins++;
                    content.textContent = comp + " beats " + play + ". Player-" + playerWins + ", Computer-" + computerWins;
                }
                else if (comp == 'Paper'){
                    content.textContent = "Tie! Try Again. Player-" + playerWins + ", Computer-" + computerWins;
                }
                else if (comp == 'Rock'){
                    playerWins++;
                    content.textContent = play + " beats " + comp + ". Player-" + playerWins + ", Computer-" + computerWins;
                }
            }
            else if (play == 'Scissors'){
                if (comp == 'Rock'){
                    computerWins++;
                    content.textContent = comp + " beats " + play + ". Player-" + playerWins + ", Computer-" + computerWins;
                }
                else if (comp == 'Scissors'){
                    content.textContent = "Tie! Try Again. Player-" + playerWins + ", Computer-" + computerWins;
                }
                else if (comp == 'Paper'){
                    playerWins++;
                    content.textContent = play + " beats " + comp + ". Player-" + playerWins + ", Computer-" + computerWins;
                    
                }
            }
        }
        if(playerWins == 5){
            content.textContent = "You've won by being the first to 5!";
        }
        else if(computerWins == 5){
            content.textContent = "The computer beat you by being the first to 5!";
        }

        container.appendChild(content);
    }  
    var playerSelection = "";
    var playerWins = 0;
    var computerWins = 0;

    //listen for a user to click and pass the id of the button 
    window.addEventListener("click", event => {
        if(event.target.nodeName == "BUTTON"){
            playerSelection = event.target.id;
            game(playerSelection);
        }
    });
</script>

<body> 
    <button id="Rock">Rock</button>
    <button id="Paper">Paper</button>
    <button id="Scissors">Scissors</button>
    <div id="Results"></div>
</body>